<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maverick Admin Portal</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    /* 1. Global Background & Font */
    body { 
        font-family: 'Inter', sans-serif; 
        /* Lavender to Sky Blue Gradient */
        background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
        background-attachment: fixed;
        min-height: 100vh;
        color: #2c3e50; /* Darker text for better readability on light colors */
    }

    /* 2. Custom Scrollbar - Matching the Palette */
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.3); }
    ::-webkit-scrollbar-thumb { background: #6a5acd; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #5848c2; }

    /* 3. Slate Blue - Generate Button Style */
    .btn-generate {
        background-color: #6a5acd !important;
        color: white !important;
        border: none;
        padding: 10px 24px;
        border-radius: 30px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(106, 90, 205, 0.3);
    }
    .btn-generate:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(106, 90, 205, 0.5);
        background-color: #5848c2 !important;
    }

    /* 4. Mint Green Gradient - Download Button Style */
    .btn-download {
        background: linear-gradient(90deg, #84fab0, #8fd3f4) !important;
        color: white !important;
        border: none;
        padding: 10px 24px;
        border-radius: 30px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(132, 250, 176, 0.4);
    }
    .btn-download:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(132, 250, 176, 0.6);
    }

    /* 5. Navigation & UI Elements */
    .nav-item.active { 
        background-color: #6a5acd; /* Updated to Slate Blue */
        color: white; 
    }
    .nav-item.active svg { color: white; }

    /* Animation Keyframes */
    @keyframes fadeIn { 
        from { opacity: 0; transform: translateY(10px); } 
        to { opacity: 1; transform: translateY(0); } 
    }
    .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
</style>
</head>
<body class="bg-slate-50 h-screen flex overflow-hidden text-slate-800">

    <aside class="w-64 bg-slate-900 text-slate-300 flex flex-col flex-shrink-0 transition-all duration-300">
        <div class="p-6 flex items-center gap-3">
            <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold">M</div>
            <h1 class="text-xl font-bold text-white">Maverick</h1>
        </div>

        <nav class="flex-1 px-4 space-y-2 overflow-y-auto">
            <button onclick="navigate('dashboard')" id="nav-dashboard" class="nav-item w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-slate-800 transition-colors">
                <i data-lucide="layout-dashboard" class="w-5 h-5"></i>
                <span class="font-medium">Dashboard</span>
            </button>
            <button onclick="navigate('fresher')" id="nav-fresher" class="nav-item w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-slate-800 transition-colors">
                <i data-lucide="users" class="w-5 h-5"></i>
                <span class="font-medium">Fresher</span>
            </button>
            <button onclick="navigate('agent')" id="nav-agent" class="nav-item w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-slate-800 transition-colors">
                <i data-lucide="bot" class="w-5 h-5"></i>
                <span class="font-medium">Agent Monitoring</span>
            </button>
            <button onclick="navigate('reports')" id="nav-reports" class="nav-item w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-slate-800 transition-colors">
                <a href="Reportagent.html" id="nav-reports" class="nav-item w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-slate-800 transition-colors no-underline text-inherit">
                <i data-lucide="bar-chart-3" class="w-5 h-5"></i>
                <span class="font-medium text-slate-300">Reports</span>
                 </a>
            </button>
            <button onclick="navigate('insights')" id="nav-insights" class="nav-item w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-slate-800 transition-colors">
                <i data-lucide="sparkles" class="w-5 h-5"></i>
                <span class="font-medium">AI Insights</span>
            </button>
            <button onclick="navigate('settings')" id="nav-settings" class="nav-item w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-slate-800 transition-colors">
                <i data-lucide="settings" class="w-5 h-5"></i>
                <span class="font-medium">Settings</span>
            </button>
        </nav>

        <div class="p-4 border-t border-slate-800">
            <button class="w-full flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors">
                <i data-lucide="chevron-left" class="w-4 h-4"></i>
                Collapse
            </button>
        </div>
    </aside>

    <main class="flex-1 flex flex-col min-w-0">
        <header class="bg-white border-b border-slate-200 h-16 flex items-center justify-between px-6 shadow-sm z-10">
            <div class="flex items-center gap-4 flex-1">
                <div class="relative w-64">
                    <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"></i>
                    <input type="text" placeholder="Search by name, ID, skill..." class="w-full pl-10 pr-4 py-2 bg-slate-100 rounded-lg text-sm outline-none focus:ring-2 focus:ring-blue-500 transition-all">
                </div>
            </div>

            <div class="flex items-center gap-4">
                <button onclick="toggleAIChat()" class="bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:shadow-lg transition-all flex items-center gap-2">
                    <i data-lucide="sparkles" class="w-4 h-4"></i>
                    AI Assistant
                </button> 

                    <button onclick="downloadReport()" class="bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-green-700 transition-colors flex items-center gap-2">
    <i data-lucide="download" class="w-4 h-4"></i>
    <span>Download Report</span>
</button>
                <div class="h-8 w-[1px] bg-slate-200 mx-2"></div>
                <div class="flex items-center gap-3">
                    <div class="text-right hidden md:block">
                        <p class="text-sm font-bold text-slate-800">Admin User</p>
                        <p class="text-xs text-slate-500">Super Admin</p>
                    </div>
                    <div class="w-10 h-10 bg-slate-200 rounded-full flex items-center justify-center">
                        <i data-lucide="user" class="w-5 h-5 text-slate-500"></i>
                    </div>
                </div>
            </div>
        </header>

        <div id="page-content" class="flex-1 overflow-y-auto p-6 relative">
            </div>
    </main>

    <div id="ai-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl h-[600px] flex flex-col animate-fade-in">
            <div class="flex items-center justify-between p-4 border-b border-slate-200 bg-gradient-to-r from-purple-600 to-blue-600 rounded-t-2xl">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center">
                        <i data-lucide="bot" class="w-6 h-6 text-white"></i>
                    </div>
                    <div>
                        <h2 class="text-lg font-bold text-white">AI Admin Assistant</h2>
                        <p class="text-xs text-white/90">Powered by Advanced Analytics</p>
                    </div>
                </div>
                <button onclick="toggleAIChat()" class="text-white hover:bg-white/20 p-2 rounded-lg transition">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            
            <div id="chat-messages" class="flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50">
                <div class="flex gap-3">
                    <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center flex-shrink-0">
                        <i data-lucide="bot" class="w-4 h-4 text-white"></i>
                    </div>
                    <div class="bg-white p-3 rounded-2xl rounded-tl-none shadow-sm text-sm text-slate-700 max-w-[80%] border border-slate-100">
                        Hello! I'm your AI Admin Assistant. I can help with reports, analyzing fresher performance, or identifying trends. Try asking: "Who is at risk?"
                    </div>
                </div>
            </div>

            <div class="p-4 border-t border-slate-200 bg-white rounded-b-2xl">
                <div class="flex gap-2">
                    <input id="chat-input" type="text" placeholder="Ask anything..." class="flex-1 bg-slate-100 border-0 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-purple-500 outline-none">
                    <button onclick="sendMessage()" class="bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-xl transition">
                        <i data-lucide="send" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- Data ---
        const freshersData = [
            { id: 'EMP001', name: 'Ravi Kumar', dept: 'IT', joinDate: '2026-01-15', quiz: 68, status: 'At Risk', skills: ['Java', 'Python', 'React'], progress: 69 },
            { id: 'EMP002', name: 'Priya Sharma', dept: 'IT', joinDate: '2026-01-10', quiz: 92, status: 'Excellent', skills: ['JavaScript', 'Node.js', 'MongoDB'], progress: 100 },
            { id: 'EMP003', name: 'Amit Patel', dept: 'Data Science', joinDate: '2026-01-20', quiz: 78, status: 'Active', skills: ['Python', 'Machine Learning', 'SQL'], progress: 75 },
            { id: 'EMP004', name: 'Sneha Reddy', dept: 'IT', joinDate: '2026-01-08', quiz: 88, status: 'Excellent', skills: ['Angular', 'TypeScript', 'CSS'], progress: 94 },
            { id: 'EMP005', name: 'Rahul Verma', dept: 'QA', joinDate: '2026-01-25', quiz: 62, status: 'At Risk', skills: ['Selenium', 'Java', 'Testing'], progress: 50 },
        ];

        const agentsData = [
            { name: 'Onboarding Agent', status: 'Active', tasks: 120, accuracy: 95, latency: 200, lastActive: '2 min ago' },
            { name: 'Assessment Agent', status: 'Active', tasks: 500, accuracy: 92, latency: 350, lastActive: '5 min ago' },
            { name: 'Profile Agent', status: 'Active', tasks: 85, accuracy: 98, latency: 150, lastActive: '1 min ago' },
            { name: 'Reporting Agent', status: 'Active', tasks: 45, accuracy: 96, latency: 280, lastActive: '10 min ago' },
        ];

        // --- Render Functions ---

        function renderDashboard() {
            const container = document.getElementById('page-content');
            container.innerHTML = `
                <div class="animate-fade-in space-y-6">
                    <div>
                        <h2 class="text-2xl font-bold text-slate-800">Dashboard</h2>
                        <p class="text-slate-500">Overview of system performance and fresher progress</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                            <p class="text-slate-500 text-sm font-medium">Total Freshers</p>
                            <h3 class="text-3xl font-bold text-slate-800 mt-2">5</h3>
                            <p class="text-green-600 text-xs mt-1 flex items-center"><i data-lucide="trending-up" class="w-3 h-3 mr-1"></i> +12% from last month</p>
                        </div>
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                            <p class="text-slate-500 text-sm font-medium">Active Training</p>
                            <h3 class="text-3xl font-bold text-slate-800 mt-2">4</h3>
                            <p class="text-green-600 text-xs mt-1 flex items-center"><i data-lucide="trending-up" class="w-3 h-3 mr-1"></i> +8% from last month</p>
                        </div>
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                            <p class="text-slate-500 text-sm font-medium">Low Performers</p>
                            <h3 class="text-3xl font-bold text-slate-800 mt-2">2</h3>
                            <p class="text-red-500 text-xs mt-1 flex items-center"><i data-lucide="trending-down" class="w-3 h-3 mr-1"></i> -5% from last month</p>
                        </div>
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                            <p class="text-slate-500 text-sm font-medium">Avg Score</p>
                            <h3 class="text-3xl font-bold text-slate-800 mt-2">77.6</h3>
                            <p class="text-green-600 text-xs mt-1 flex items-center"><i data-lucide="trending-up" class="w-3 h-3 mr-1"></i> +3% from last month</p>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                            <h3 class="font-bold text-slate-800 mb-4">Performance Distribution</h3>
                            <div class="h-64"><canvas id="pieChart"></canvas></div>
                        </div>
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                            <h3 class="font-bold text-slate-800 mb-4">Skill Gap Analysis</h3>
                            <div class="h-64"><canvas id="barChart"></canvas></div>
                        </div>
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                            <h3 class="font-bold text-slate-800 mb-4">Daily Activity Graph</h3>
                            <div class="h-64"><canvas id="lineChart"></canvas></div>
                        </div>
                    </div>
                </div>
            `;
            
            lucide.createIcons();
            initCharts();
        }

        function renderFresherManagement() {
            const container = document.getElementById('page-content');
            let cardsHtml = freshersData.map(f => {
                const statusColor = f.status === 'Excellent' ? 'bg-green-100 text-green-700' : 
                                    f.status === 'At Risk' ? 'bg-red-100 text-red-700' : 'bg-blue-100 text-blue-700';
                
                return `
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex items-center gap-3">
                            <div class="w-12 h-12 rounded-full bg-slate-200 flex items-center justify-center text-lg font-bold text-slate-600">
                                ${f.name.split(' ').map(n=>n[0]).join('')}
                            </div>
                            <div>
                                <h3 class="font-bold text-slate-800">${f.name}</h3>
                                <p class="text-xs text-slate-500">${f.id}</p>
                            </div>
                        </div>
                        <span class="px-2 py-1 rounded-full text-xs font-bold ${statusColor}">${f.status}</span>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4 text-sm mb-4">
                        <div>
                            <p class="text-slate-500">Department</p>
                            <p class="font-medium">${f.dept}</p>
                        </div>
                        <div>
                            <p class="text-slate-500">Quiz Avg</p>
                            <p class="font-medium">${f.quiz}%</p>
                        </div>
                    </div>

                    <div class="mb-4">
                        <p class="text-slate-500 text-xs mb-2">Skills</p>
                        <div class="flex flex-wrap gap-2">
                            ${f.skills.map(s => `<span class="px-2 py-1 bg-slate-100 rounded text-xs text-slate-600">${s}</span>`).join('')}
                        </div>
                    </div>

                    <div>
                        <div class="flex justify-between text-xs mb-1">
                            <span>Overall Progress</span>
                            <span>${f.progress}%</span>
                        </div>
                        <div class="w-full bg-slate-100 rounded-full h-2">
                            <div class="bg-blue-600 h-2 rounded-full" style="width: ${f.progress}%"></div>
                        </div>
                    </div>
                    
                    <button class="w-full mt-4 bg-blue-50 text-blue-600 py-2 rounded-lg text-sm font-medium hover:bg-blue-100 transition">View Details</button>
                </div>`;
            }).join('');

            container.innerHTML = `
                <div class="animate-fade-in space-y-6">
                    <div class="flex justify-between items-center">
                        <div>
                            <h2 class="text-2xl font-bold text-slate-800">Fresher Management</h2>
                            <p class="text-slate-500">Manage and monitor all freshers in the system</p>
                        </div>
                        <button class="flex items-center gap-2 bg-white border border-slate-300 px-4 py-2 rounded-lg text-sm font-medium">
                            <i data-lucide="filter" class="w-4 h-4"></i> Filters
                        </button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        ${cardsHtml}
                    </div>
                </div>
            `;
            lucide.createIcons();
        }

        function renderAgentMonitoring() {
            const container = document.getElementById('page-content');
            
            const agentCards = agentsData.map(agent => `
                <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-200">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
                                <i data-lucide="bot" class="w-5 h-5 text-white"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-slate-800 text-sm">${agent.name}</h3>
                                <p class="text-xs text-slate-500">${agent.lastActive}</p>
                            </div>
                        </div>
                        <span class="px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700 border border-green-200">Active</span>
                    </div>
                    <div class="space-y-3">
                         <div class="flex items-center justify-between p-2 bg-blue-50 rounded-lg">
                            <div class="flex items-center gap-2">
                                <i data-lucide="activity" class="w-3 h-3 text-blue-600"></i>
                                <span class="text-xs font-medium text-slate-700">Tasks</span>
                            </div>
                            <span class="text-sm font-bold text-blue-600">${agent.tasks}</span>
                        </div>
                        <div class="flex items-center justify-between p-2 bg-green-50 rounded-lg">
                            <div class="flex items-center gap-2">
                                <i data-lucide="check-circle" class="w-3 h-3 text-green-600"></i>
                                <span class="text-xs font-medium text-slate-700">Accuracy</span>
                            </div>
                            <span class="text-sm font-bold text-green-600">${agent.accuracy}%</span>
                        </div>
                        <div class="flex items-center justify-between p-2 bg-orange-50 rounded-lg">
                            <div class="flex items-center gap-2">
                                <i data-lucide="zap" class="w-3 h-3 text-orange-600"></i>
                                <span class="text-xs font-medium text-slate-700">Latency</span>
                            </div>
                            <span class="text-sm font-bold text-orange-600">${agent.latency}ms</span>
                        </div>
                    </div>
                </div>
            `).join('');

            container.innerHTML = `
                <div class="animate-fade-in space-y-6">
                    <div>
                        <h2 class="text-2xl font-bold text-slate-800">Agent Monitoring Dashboard</h2>
                        <p class="text-slate-600 mt-1">Real-time monitoring of AI agents performance</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        ${agentCards}
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="lg:col-span-2 bg-white rounded-2xl p-6 shadow-sm border border-slate-200">
                             <h3 class="font-bold text-slate-800 mb-4">Real-time Performance Tracking</h3>
                             <div class="h-64"><canvas id="agentLineChart"></canvas></div>
                        </div>
                        
                        <div class="bg-gradient-to-br from-green-50 to-blue-50 rounded-2xl p-6 shadow-sm border border-green-200 flex flex-col justify-center">
                            <div class="flex items-center gap-4 mb-4">
                                <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-blue-600 rounded-xl flex items-center justify-center">
                                    <i data-lucide="activity" class="w-6 h-6 text-white"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-bold text-slate-800">System Health</h3>
                                    <p class="text-xs text-slate-600">All agents optimal</p>
                                </div>
                            </div>
                            <div class="text-center mb-4">
                                <span class="text-4xl font-bold text-green-600">95.3%</span>
                                <p class="text-xs text-slate-500">Overall Performance</p>
                            </div>
                             <div class="grid grid-cols-2 gap-3">
                                <div class="bg-white rounded-lg p-2 text-center">
                                    <p class="text-lg font-bold text-green-600">100%</p>
                                    <p class="text-xs text-slate-500">Uptime</p>
                                </div>
                                <div class="bg-white rounded-lg p-2 text-center">
                                    <p class="text-lg font-bold text-purple-600">245ms</p>
                                    <p class="text-xs text-slate-500">Avg Latency</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            lucide.createIcons();
            
            // Render Agent Chart
            const ctx = document.getElementById('agentLineChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['10:00', '11:00', '12:00', '13:00', '14:00'],
                    datasets: [
                        { label: 'Onboarding', data: [94, 95, 93, 96, 95], borderColor: '#3b82f6', tension: 0.4 },
                        { label: 'Assessment', data: [91, 92, 90, 93, 92], borderColor: '#10b981', tension: 0.4 }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }
            });
        }

        function renderReports() {
            const container = document.getElementById('page-content');
            const reports = [
                { title: 'Executive Summary', desc: 'High-level overview with key metrics', icon: 'bar-chart-3', color: 'blue' },
                { title: 'Performance Analysis', desc: 'Detailed analysis of individual performance', icon: 'trending-up', color: 'purple' },
                { title: 'Risk Assessment', desc: 'Identify at-risk individuals and strategies', icon: 'alert-triangle', color: 'red' },
                { title: 'Skill Gap Report', desc: 'Analysis of skill deficiencies', icon: 'layers', color: 'orange' }
            ];

            container.innerHTML = `
                <div class="animate-fade-in space-y-6">
                    <div>
                        <h2 class="text-2xl font-bold text-slate-800">Reports & Analytics</h2>
                        <p class="text-slate-600">Generate and analyze comprehensive reports</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        ${reports.map(r => `
                            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-start gap-4">
                                <div class="w-12 h-12 rounded-xl bg-${r.color}-100 flex items-center justify-center flex-shrink-0">
                                    <i data-lucide="${r.icon}" class="w-6 h-6 text-${r.color}-600"></i>
                                </div>
                                <div class="flex-1">
                                    <h3 class="font-bold text-slate-800 text-lg">${r.title}</h3>
                                    <p class="text-slate-500 text-sm mb-4">${r.desc}</p>
                                    <button class="bg-slate-900 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-slate-800">Generate Report</button>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            lucide.createIcons();
        }

        function renderInsights() {
            const container = document.getElementById('page-content');
            container.innerHTML = `
                <div class="animate-fade-in space-y-6">
                     <div>
                        <h2 class="text-2xl font-bold text-slate-800">AI Powered Insights</h2>
                        <p class="text-slate-600">Intelligent recommendations based on advanced analytics</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white p-6 rounded-2xl shadow-sm border-l-4 border-green-500">
                            <div class="flex justify-between mb-2">
                                <h3 class="font-bold text-lg">Performance Trend</h3>
                                <span class="bg-green-100 text-green-700 px-2 py-1 rounded text-xs font-bold">POSITIVE</span>
                            </div>
                            <p class="text-slate-600 mb-4">Overall fresher performance has improved by 12% compared to last month.</p>
                            <div class="bg-slate-50 p-3 rounded-lg text-sm text-slate-700">
                                ðŸ’¡ <strong>Recommendation:</strong> Continue current training methodology and share best practices across teams.
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-2xl shadow-sm border-l-4 border-red-500">
                            <div class="flex justify-between mb-2">
                                <h3 class="font-bold text-lg">At-Risk Alert</h3>
                                <span class="bg-red-100 text-red-700 px-2 py-1 rounded text-xs font-bold">WARNING</span>
                            </div>
                            <p class="text-slate-600 mb-4">2 freshers showing concerning patterns with risk levels above 40%.</p>
                            <div class="bg-slate-50 p-3 rounded-lg text-sm text-slate-700">
                                ðŸ’¡ <strong>Recommendation:</strong> Immediate intervention recommended. Assign mentors and increase check-in frequency.
                            </div>
                        </div>

                         <div class="bg-white p-6 rounded-2xl shadow-sm border-l-4 border-blue-500">
                            <div class="flex justify-between mb-2">
                                <h3 class="font-bold text-lg">Skill Gap Detected</h3>
                                <span class="bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs font-bold">INFO</span>
                            </div>
                            <p class="text-slate-600 mb-4">Testing and React skills showing significant gaps across multiple freshers.</p>
                            <div class="bg-slate-50 p-3 rounded-lg text-sm text-slate-700">
                                ðŸ’¡ <strong>Recommendation:</strong> Organize targeted workshops for Testing (18% gap) and React (15% gap).
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderSettings() {
            const container = document.getElementById('page-content');
            container.innerHTML = `
                <div class="animate-fade-in space-y-6 max-w-4xl">
                    <div>
                        <h2 class="text-2xl font-bold text-slate-800">Settings</h2>
                        <p class="text-slate-600">Configure system preferences and notifications</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                             <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                                <i data-lucide="bell" class="w-4 h-4"></i> General Settings
                             </h3>
                             <div class="space-y-4">
                                <label class="flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border border-slate-200 cursor-pointer">
                                    <div>
                                        <div class="font-medium text-slate-800">Email Notifications</div>
                                        <div class="text-xs text-slate-500">Receive updates via email</div>
                                    </div>
                                    <input type="checkbox" checked class="w-5 h-5 accent-blue-600">
                                </label>
                                <label class="flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border border-slate-200 cursor-pointer">
                                    <div>
                                        <div class="font-medium text-slate-800">Risk Alerts</div>
                                        <div class="text-xs text-slate-500">Get notified of at-risk freshers</div>
                                    </div>
                                    <input type="checkbox" checked class="w-5 h-5 accent-blue-600">
                                </label>
                             </div>
                        </div>

                        <div>
                             <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                                <i data-lucide="cpu" class="w-4 h-4"></i> AI Configuration
                             </h3>
                             <div class="space-y-4">
                                <label class="flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border border-slate-200 cursor-pointer">
                                    <div>
                                        <div class="font-medium text-slate-800">AI Insights</div>
                                        <div class="text-xs text-slate-500">Enable AI-powered recommendations</div>
                                    </div>
                                    <input type="checkbox" checked class="w-5 h-5 accent-blue-600">
                                </label>
                                <label class="flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border border-slate-200 cursor-pointer">
                                    <div>
                                        <div class="font-medium text-slate-800">Auto-Reporting</div>
                                        <div class="text-xs text-slate-500">AI generates reports automatically</div>
                                    </div>
                                    <input type="checkbox" class="w-5 h-5 accent-blue-600">
                                </label>
                             </div>
                        </div>
                    </div>
                    
                    <div class="mt-8 p-6 bg-slate-900 text-white rounded-2xl flex justify-between items-center">
                        <div>
                            <h3 class="font-bold">System Information</h3>
                            <p class="text-sm text-slate-400">Version v2.4.0</p>
                        </div>
                        <div class="text-right">
                             <p class="text-sm text-slate-400">Last Updated</p>
                             <p class="font-bold">Feb 15, 2026</p>
                        </div>
                    </div>
                </div>
            `;
            lucide.createIcons();
        }

        // --- Chart Logic ---
        function initCharts() {
            // Pie Chart
            new Chart(document.getElementById('pieChart'), {
                type: 'doughnut',
                data: {
                    labels: ['Excellent', 'Active', 'At Risk'],
                    datasets: [{
                        data: [40, 20, 40],
                        backgroundColor: ['#10b981', '#f59e0b', '#ef4444'],
                        borderWidth: 0
                    }]
                },
                options: { maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }
            });

            // Bar Chart
            new Chart(document.getElementById('barChart'), {
                type: 'bar',
                data: {
                    labels: ['Java', 'Python', 'React', 'Node.js', 'Testing'],
                    datasets: [{
                        label: 'Skill Gap %',
                        data: [10, 2, 15, 0, 18],
                        backgroundColor: '#8b5cf6',
                        borderRadius: 4
                    }]
                },
                options: { maintainAspectRatio: false, scales: { y: { beginAtZero: true } } }
            });

            // Line Chart
            new Chart(document.getElementById('lineChart'), {
                type: 'line',
                data: {
                    labels: ['Feb 09', 'Feb 11', 'Feb 13', 'Feb 15'],
                    datasets: [
                        { label: 'Quizzes', data: [12, 19, 15, 22], borderColor: '#3b82f6', tension: 0.4 },
                        { label: 'Coding', data: [8, 12, 10, 15], borderColor: '#10b981', tension: 0.4 }
                    ]
                },
                options: { maintainAspectRatio: false }
            });
        }

        // --- Navigation Logic ---
        function navigate(page) {
            // Update Sidebar State
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            document.getElementById(`nav-${page}`).classList.add('active');

            // Render Content
            if(page === 'dashboard') renderDashboard();
            else if(page === 'fresher') renderFresherManagement();
            else if(page === 'agent') renderAgentMonitoring();
            else if(page === 'reports') renderReports();
            else if(page === 'insights') renderInsights();
            else if(page === 'settings') renderSettings();
        }

        // --- AI Chat Logic ---
        function toggleAIChat() {
            const modal = document.getElementById('ai-modal');
            if (modal.classList.contains('hidden')) {
                modal.classList.remove('hidden');
            } else {
                modal.classList.add('hidden');
            }
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            if (!message) return;

            const chatContainer = document.getElementById('chat-messages');

            // User Message
            chatContainer.innerHTML += `
                <div class="flex gap-3 flex-row-reverse animate-fade-in">
                    <div class="w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0">
                        <i data-lucide="user" class="w-4 h-4 text-blue-600"></i>
                    </div>
                    <div class="bg-blue-600 text-white p-3 rounded-2xl rounded-tr-none shadow-sm text-sm max-w-[80%]">
                        ${message}
                    </div>
                </div>
            `;
            lucide.createIcons();
            input.value = '';
            chatContainer.scrollTop = chatContainer.scrollHeight;

            // Simulated AI Response
            setTimeout(() => {
                let response = "I understand you're asking about that. Based on the current data, IT department performance is strong, but there are risks in QA.";
                
                const lowerMsg = message.toLowerCase();
                if (lowerMsg.includes('risk') || lowerMsg.includes('alert')) {
                    response = "Based on my analysis: <br><strong>1. Rahul Verma (QA)</strong> is at High Risk (72%) due to low completion rates.<br><strong>2. Ravi Kumar (IT)</strong> is at Medium Risk due to declining quiz scores.";
                } else if (lowerMsg.includes('top') || lowerMsg.includes('best')) {
                    response = "The top performer is <strong>Priya Sharma</strong> from IT with a 92% average score and 100% progress.";
                }

                chatContainer.innerHTML += `
                    <div class="flex gap-3 animate-fade-in">
                        <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center flex-shrink-0">
                            <i data-lucide="bot" class="w-4 h-4 text-white"></i>
                        </div>
                        <div class="bg-white p-3 rounded-2xl rounded-tl-none shadow-sm text-sm text-slate-700 max-w-[80%] border border-slate-100">
                            ${response}
                        </div>
                    </div>
                `;
                lucide.createIcons();
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }, 1000);
        }
        
        // Handle 'Enter' key in chat
        document.getElementById('chat-input').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Initialize App
        document.addEventListener('DOMContentLoaded', () => {
            navigate('dashboard');
        });
        // Add this to your script section
document.querySelector('input[type="text"]').addEventListener('input', function(e) {
    const searchTerm = e.target.value.toLowerCase();
    
    // Switch to Fresher Management view to show results
    navigate('fresher');
    
    const container = document.getElementById('page-content');
    const filteredData = freshersData.filter(f => 
        f.name.toLowerCase().includes(searchTerm) || 
        f.id.toLowerCase().includes(searchTerm) ||
        f.dept.toLowerCase().includes(searchTerm) ||
        f.skills.some(s => s.toLowerCase().includes(searchTerm))
    );

    // Update the UI with filtered results
    if (filteredData.length > 0) {
        let cardsHtml = filteredData.map(f => {
            const statusColor = f.status === 'Excellent' ? 'bg-green-100 text-green-700' : 
                               f.status === 'At Risk' ? 'bg-red-100 text-red-700' : 'bg-blue-100 text-blue-700';
            return `
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
                <div class="flex justify-between items-start mb-4">
                    <div class="flex items-center gap-3">
                        <div class="w-12 h-12 rounded-full bg-slate-200 flex items-center justify-center text-lg font-bold text-slate-600">
                            ${f.name.split(' ').map(n=>n[0]).join('')}
                        </div>
                        <div>
                            <h3 class="font-bold text-slate-800">${f.name}</h3>
                            <p class="text-xs text-slate-500">${f.id}</p>
                        </div>
                    </div>
                    <span class="px-2 py-1 rounded-full text-xs font-bold ${statusColor}">${f.status}</span>
                </div>
                <div class="grid grid-cols-2 gap-4 text-sm mb-4">
                    <div><p class="text-slate-500">Department</p><p class="font-medium">${f.dept}</p></div>
                    <div><p class="text-slate-500">Quiz Avg</p><p class="font-medium">${f.quiz}%</p></div>
                </div>
                <div class="mb-4">
                    <p class="text-slate-500 text-xs mb-2">Skills</p>
                    <div class="flex flex-wrap gap-2">
                        ${f.skills.map(s => `<span class="px-2 py-1 bg-slate-100 rounded text-xs text-slate-600">${s}</span>`).join('')}
                    </div>
                </div>
                <div>
                    <div class="flex justify-between text-xs mb-1"><span>Overall Progress</span><span>${f.progress}%</span></div>
                    <div class="w-full bg-slate-100 rounded-full h-2">
                        <div class="bg-blue-600 h-2 rounded-full" style="width: ${f.progress}%"></div>
                    </div>
                </div>
            </div>`;
        }).join('');

        container.innerHTML = `
            <div class="animate-fade-in space-y-6">
                <h2 class="text-2xl font-bold text-slate-800">Search Results for "${searchTerm}"</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">${cardsHtml}</div>
            </div>`;
    } else {
        container.innerHTML = `<div class="p-20 text-center text-slate-500">No results found for "${searchTerm}"</div>`;
    }
    lucide.createIcons();
});
            function downloadReport() {
    // Prepare CSV Header
    let csvContent = "data:text/csv;charset=utf-8,ID,Name,Department,Join Date,Quiz Score,Status,Progress\n";
    
    // Add Fresher data to CSV
    freshersData.forEach(f => {
        let row = `${f.id},${f.name},${f.dept},${f.joinDate},${f.quiz},${f.status},${f.progress}%`;
        csvContent += row + "\n";
    });

    // Create a temporary link to download
    const encodedUri = encodeURI(csvContent);
    const link = document.createElement("a");
    link.setAttribute("href", encodedUri);
    link.setAttribute("download", "Maverick_Performance_Report.csv");
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
}
    </script>
</body>

</html>


